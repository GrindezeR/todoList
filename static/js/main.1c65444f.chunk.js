(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{109:function(t,e,n){t.exports={deleteBtn:"Task_deleteBtn__1yI-W",done:"Task_done__1VCnE"}},133:function(t,e,n){},161:function(t,e,n){"use strict";n.r(e);var a,i,c=n(0),r=n.n(c),s=n(30),o=n.n(s),l=(n(133),n(227)),d=n(230),u=n(228),j=n(225),b=n(222),O=n(221),f=n(112),p=n.n(f),m=n(71),T=n.n(m),h=n(25),g=n(74),I=n(16),x=n(5),S=n(13),k=n(104),v=n.n(k).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"761e6f2b-b609-440b-9ec5-0bbc9398cba5"}}),A=function(){return v.get("todo-lists")},E=function(t){return v.post("todo-lists",{title:t})},_=function(t){return v.delete("todo-lists/".concat(t))},C=function(t,e){return v.put("todo-lists/".concat(t),{title:e})},L=function(t){return v.get("todo-lists/".concat(t,"/tasks"))},y=function(t,e){return v.post("todo-lists/".concat(t,"/tasks"),{title:e})},D=function(t,e){return v.delete("todo-lists/".concat(t,"/tasks/").concat(e))},N=function(t,e,n){return v.put("todo-lists/".concat(t,"/tasks/").concat(e),n)},w=function(t){return v.post("auth/login",t)},P=function(){return v.delete("auth/login")},F=function(){return v.get("auth/me")};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(a||(a={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(i||(i={}));var W=function(t,e){var n;e(z(null!==(n=t.messages[0])&&void 0!==n?n:"Unknown error")),e(M("failed"))},B=function(t,e){e(z(t)),e(M("failed"))},R=[],U=function(t,e){return{type:"CHANGE-TODOLIST-ENTITY-STATUS",todolistId:t,entityStatus:e}},G={isLoggedIn:!1},H=function(t){return{type:"AUTH/SET-IS-LOGGED-IN",value:t}},K={status:"idle",error:"",isInitialized:!1},M=function(t){return{type:"APP/SET-STATUS",status:t}},z=function(t){return{type:"APP/SET-ERROR",error:t}},Y={},Z=function(t,e,n){return{type:"CHANGE-TASK-ENTITY-STATUS",todolistId:t,taskId:e,entityStatus:n}},q=function(t){return function(e){e(M("loading")),L(t).then((function(n){e(function(t,e){return{type:"SET-TASKS",tasks:e,todolistId:t}}(t,n.data.items)),e(M("succeeded"))})).catch((function(t){B(t.message,e)}))}},J=function(t,e,n){return function(a,i){var c=i().tasks[t].find((function(t){return t.id===e}));c&&(a(M("loading")),a(Z(t,e,"loading")),N(t,e,Object(S.a)({title:c.title,status:c.status,deadline:c.deadline,description:c.description,priority:c.priority,startDate:c.startDate},n)).then((function(i){0===i.data.resultCode?(a(function(t,e,n){return{type:"UPDATE-TASK",todolistId:t,taskId:e,domainModel:n}}(t,e,n)),a(Z(t,e,"succeeded")),a(M("succeeded"))):W(i.data,a)})).catch((function(t){B(t.message,a)})).finally((function(){a(Z(t,e,"idle"))})))}},V=n(105),X=Object(g.b)({todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CHANGE-TODOLIST-FILTER":return t.map((function(t){return t.id===e.todolistId?Object(S.a)(Object(S.a)({},t),{},{filter:e.filter}):t}));case"ADD-TODOLIST":return[Object(S.a)(Object(S.a)({},e.todolist),{},{filter:"all",entityStatus:"idle"})].concat(Object(I.a)(t));case"DELETE-TODOLIST":return t.filter((function(t){return t.id!==e.todolistId}));case"CHANGE-TODOLIST-TITLE":return t.map((function(t){return t.id===e.todolistId?Object(S.a)(Object(S.a)({},t),{},{title:e.title}):t}));case"SET-TODOLISTS":return e.todolists.map((function(t){return Object(S.a)(Object(S.a)({},t),{},{filter:"all",entityStatus:"idle"})}));case"CHANGE-TODOLIST-ENTITY-STATUS":return t.map((function(t){return t.id===e.todolistId?Object(S.a)(Object(S.a)({},t),{},{entityStatus:e.entityStatus}):t}));case"CLEAR-TODOLISTS-DATA":return[];default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"DELETE-TASK":return Object(S.a)(Object(S.a)({},t),{},Object(x.a)({},e.todolistId,t[e.todolistId].filter((function(t){return t.id!==e.taskId}))));case"ADD-TASK":return Object(S.a)(Object(S.a)({},t),{},Object(x.a)({},e.task.todoListId,[e.task].concat(Object(I.a)(t[e.task.todoListId]))));case"UPDATE-TASK":return Object(S.a)(Object(S.a)({},t),{},Object(x.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.taskId?Object(S.a)(Object(S.a)({},t),e.domainModel):t}))));case"SET-TASKS":return Object(S.a)(Object(S.a)({},t),{},Object(x.a)({},e.todolistId,e.tasks));case"CHANGE-TASK-ENTITY-STATUS":return Object(S.a)(Object(S.a)({},t),{},Object(x.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.taskId?Object(S.a)(Object(S.a)({},t),{},{entityStatus:e.entityStatus}):t}))));case"ADD-TODOLIST":return Object(S.a)(Object(x.a)({},e.todolist.id,[]),t);case"DELETE-TODOLIST":var n=Object(S.a)({},t);return delete n[e.todolistId],n;case"SET-TODOLISTS":var a=Object(S.a)({},t);return e.todolists.forEach((function(t){a[t.id]=[]})),a;case"CLEAR-TODOLISTS-DATA":return{};default:return t}},app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"APP/SET-STATUS":return Object(S.a)(Object(S.a)({},t),{},{status:e.status});case"APP/SET-ERROR":return Object(S.a)(Object(S.a)({},t),{},{error:e.error});case"APP/IS-INITIALIZED":return Object(S.a)(Object(S.a)({},t),{},{isInitialized:!0});default:return t}},auth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,e=arguments.length>1?arguments[1]:void 0;return"AUTH/SET-IS-LOGGED-IN"===e.type?Object(S.a)(Object(S.a)({},t),{},{isLoggedIn:e.value}):t}}),$=h.c,Q=Object(g.c)(X,Object(g.a)(V.a));window.store=Q;var tt=n(218),et=n(220),nt=n(72),at=n.n(nt),it=n(115),ct=n(41),rt=n.n(ct),st=n(14),ot=n(61),lt=n.n(ot),dt=n(114),ut=n(208),jt=n(1),bt=r.a.memo((function(t){var e=t.title,n=t.callback,a=Object(c.useState)(""),i=Object(st.a)(a,2),r=i[0],s=i[1],o=Object(c.useState)(!1),l=Object(st.a)(o,2),d=l[0],u=l[1],j=function(){var t=r.trim();""!==t?(n(t),s("")):u(!0)};return Object(jt.jsxs)("div",{className:lt.a.wrapper,children:[Object(jt.jsx)("h3",{children:e}),Object(jt.jsxs)("div",{className:lt.a.addItemWrapper,children:[Object(jt.jsx)(dt.a,{className:lt.a.input,error:d,id:"standard-basic",label:"Insert name",variant:"standard",value:r,onChange:function(t){d&&u(!1),s(t.currentTarget.value)},onKeyPress:function(t){"Enter"===t.key&&j()},disabled:t.disabled}),Object(jt.jsx)(O.a,{onClick:j,color:"primary",size:"small",disabled:t.disabled,children:Object(jt.jsx)(ut.a,{})})]}),d&&Object(jt.jsx)("div",{className:lt.a.error,children:"Title is required!"})]})})),Ot=n(84),ft=n.n(Ot),pt=r.a.memo((function(t){var e=t.title,n=t.callback,a=t.disabled,i=Object(c.useState)(!1),r=Object(st.a)(i,2),s=r[0],o=r[1],l=Object(c.useState)(e),d=Object(st.a)(l,2),u=d[0],j=d[1],b=function(){var t=u.trim();""!==t&&e!==t?n(t):j(e),j(t.trim()),o(!1)};return Object(jt.jsx)(jt.Fragment,{children:s?Object(jt.jsx)(dt.a,{className:ft.a.input,size:"small",variant:"outlined",value:u,onBlur:b,onChange:function(t){return j(t.currentTarget.value)},onKeyPress:function(t){"Enter"===t.key&&b()},onFocus:function(t){return t.currentTarget.select()},autoFocus:!0}):Object(jt.jsx)("span",{className:ft.a.task,onDoubleClick:function(){!1===a&&o(!0)},children:e})})})),mt=n(109),Tt=n.n(mt),ht=n(214),gt=n(209),It=r.a.memo((function(t){var e=t.todolistId,n=t.task,i=t.changeTaskStatus,r=t.changeTaskTitle,s=t.deleteTask,o=n.id,l=n.title,d=n.status,u=n.entityStatus,j="loading"===u,b=Object(c.useCallback)((function(){s(e,o)}),[s,e,o]),f=Object(c.useCallback)((function(t){var n=t.currentTarget.checked;i(e,o,n?a.Completed:a.New)}),[i,e,o]),p=Object(c.useCallback)((function(t){r(e,o,t)}),[r,e,o]);return Object(jt.jsxs)("div",{className:d===a.Completed?Tt.a.done:"",children:[Object(jt.jsx)(ht.a,{color:"info",onChange:f,checked:d===a.Completed,disabled:"loading"===u}),Object(jt.jsx)(pt,{title:l,callback:p,disabled:j}),Object(jt.jsx)(O.a,{size:"small",onClick:b,disabled:j,children:Object(jt.jsx)(gt.a,{})})]})})),xt=n(210),St=["demo"],kt=r.a.memo((function(t){var e=t.demo,n=void 0!==e&&e,i=Object(it.a)(t,St),r=i.tasks,s=i.todolist,o=i.deleteTask,l=i.changeTaskStatus,d=i.addTask,u=i.changeTaskTitle,j=i.changeTodolistFilter,f=i.deleteTodolist,p=i.changeTodolistTitle;Object(c.useEffect)((function(){}),[n]);var m="loading"===s.entityStatus,T=r;"active"===s.filter&&(T=r.filter((function(t){return t.status===a.New}))),"completed"===s.filter&&(T=r.filter((function(t){return t.status===a.Completed})));var h=T.map((function(t){return Object(jt.jsx)(It,{task:t,todolistId:s.id,changeTaskTitle:u,changeTaskStatus:l,deleteTask:o},t.id)})),g=Object(c.useCallback)((function(){j(s.id,"all")}),[j,s.id]),I=Object(c.useCallback)((function(){j(s.id,"active")}),[j,s.id]),x=Object(c.useCallback)((function(){j(s.id,"completed")}),[j,s.id]),S=Object(c.useCallback)((function(){f(s.id)}),[f,s.id]),k=Object(c.useCallback)((function(t){p(s.id,t)}),[p,s.id]),v=Object(c.useCallback)((function(t){d(s.id,t)}),[d,s.id]),A="all"===s.filter?"contained":"text",E="active"===s.filter?"contained":"text",_="completed"===s.filter?"contained":"text",C=m?"inherit":"error";return Object(jt.jsxs)("div",{className:rt.a.wrapper,children:[Object(jt.jsxs)("h3",{className:rt.a.title,children:[Object(jt.jsx)(pt,{title:s.title,callback:k,disabled:m}),Object(jt.jsx)(O.a,{onClick:S,disabled:m,children:Object(jt.jsx)(xt.a,{color:C})})]}),Object(jt.jsx)(bt,{callback:v,disabled:m}),Object(jt.jsx)("div",{className:rt.a.tasksWrapper,children:h}),Object(jt.jsxs)("div",{className:rt.a.btnWrapper,children:[Object(jt.jsx)(b.a,{title:"All",className:rt.a.filterBtn,color:"info",variant:A,onClick:g,children:"All"}),Object(jt.jsx)(b.a,{title:"Active",className:rt.a.filterBtn,color:"warning",variant:E,onClick:I,children:"Active"}),Object(jt.jsx)(b.a,{title:"All",className:rt.a.filterBtn,color:"success",variant:_,onClick:x,children:"Completed"})]})]},s.id)})),vt=n(15),At=function(t){var e=t.demo,n=void 0!==e&&e,a=$((function(t){return t.auth.isLoggedIn})),i=Object(h.b)(),r=Object(h.c)((function(t){return t.todolists})),s=Object(h.c)((function(t){return t.tasks}));Object(c.useEffect)((function(){!n&&a&&i((function(t){t(M("loading")),A().then((function(e){return t({type:"SET-TODOLISTS",todolists:e.data}),t(M("succeeded")),e.data})).then((function(e){e.forEach((function(e){return t(q(e.id))}))})).catch((function(e){B(e.message,t)}))}))}),[i,n,a]);var o=Object(c.useCallback)((function(t,e){i(function(t,e){return function(n){n(M("loading")),n(Z(t,e,"loading")),D(t,e).then((function(a){0===a.data.resultCode?(n(function(t,e){return{type:"DELETE-TASK",todolistId:t,taskId:e}}(t,e)),n(M("succeeded"))):W(a.data,n)})).catch((function(t){B(t.message,n)})).finally((function(){n(Z(t,e,"idle"))}))}}(t,e))}),[i]),l=Object(c.useCallback)((function(t,e,n){i(J(t,e,{status:n}))}),[i]),d=Object(c.useCallback)((function(t,e){i(function(t,e){return function(n){n(M("loading")),y(t,e).then((function(a){0===a.data.resultCode?(n({type:"ADD-TASK",task:Object(S.a)(Object(S.a)({},a.data.data.item),{},{todoListId:t,title:e})}),n(M("succeeded"))):W(a.data,n)})).catch((function(t){B(t.message,n)}))}}(t,e))}),[i]),u=Object(c.useCallback)((function(t,e,n){i(J(t,e,{title:n}))}),[i]),j=Object(c.useCallback)((function(t,e){i(function(t,e){return function(n){n(M("loading")),n(U(t,"loading")),C(t,e).then((function(a){0===a.data.resultCode?(n(function(t,e){return{type:"CHANGE-TODOLIST-TITLE",todolistId:t,title:e}}(t,e)),n(U(t,"succeeded")),n(M("succeeded"))):W(a.data,n)})).catch((function(t){B(t.message,n)}))}}(t,e))}),[i]),b=Object(c.useCallback)((function(t,e){i(function(t,e){return{type:"CHANGE-TODOLIST-FILTER",todolistId:t,filter:e}}(t,e))}),[i]),O=Object(c.useCallback)((function(t){i(function(t){return function(e){e(M("loading")),E(t).then((function(n){0===n.data.resultCode?(e({type:"ADD-TODOLIST",todolist:Object(S.a)(Object(S.a)({},n.data.data.item),{},{title:t})}),e(M("succeeded"))):W(n.data,e)})).catch((function(t){B(t.message,e)}))}}(t))}),[i]),f=Object(c.useCallback)((function(t){i(function(t){return function(e){e(M("loading")),e(U(t,"loading")),_(t).then((function(n){0===n.data.resultCode?(e(function(t){return{type:"DELETE-TODOLIST",todolistId:t}}(t)),e(M("succeeded"))):W(n.data,e)})).catch((function(t){B(t.message,e)})).finally((function(){e(U(t,"idle"))}))}}(t))}),[i]);if(!a)return Object(jt.jsx)(vt.a,{to:"/login"});var p=r.map((function(t){var e=s[t.id];return Object(jt.jsx)(tt.a,{item:!0,children:Object(jt.jsx)(et.a,{className:at.a.todolistWrapper,elevation:5,children:Object(jt.jsx)(kt,{todolist:t,tasks:e,changeTodolistTitle:j,deleteTodolist:f,changeTodolistFilter:b,changeTaskTitle:u,addTask:d,changeTaskStatus:l,deleteTask:o,demo:n})})},t.id)}));return Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(tt.a,{className:at.a.addItemFormWrapper,container:!0,children:Object(jt.jsx)(bt,{title:"Add list",callback:O})}),Object(jt.jsx)(tt.a,{className:at.a.listWrapper,container:!0,spacing:4,children:p})]})},Et=n(226),_t=n(229),Ct=n(216),Lt=n(215),yt=c.forwardRef((function(t,e){return Object(jt.jsx)(Lt.a,Object(S.a)({elevation:6,ref:e,variant:"filled"},t))})),Dt=function(){var t=Object(h.b)(),e=$((function(t){return t.app.error})),n=function(e,n){"clickaway"!==n&&t(z(null))};return Object(jt.jsx)(Ct.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!e,autoHideDuration:2e3,onClose:n,children:Object(jt.jsx)(yt,{onClose:n,severity:"error",sx:{width:"100%"},children:e})})},Nt=n(219),wt=n(224),Pt=n(223),Ft=n(53),Wt=n.n(Ft),Bt=n(113),Rt=function(){var t=$((function(t){return t.auth.isLoggedIn})),e=Object(h.b)(),n=Object(Bt.a)({initialValues:{email:"",password:"",rememberMe:!1},onSubmit:function(t){var a;e((a=t,function(t){t(M("loading")),w(a).then((function(e){0===e.data.resultCode?(t(H(!0)),t(M("succeeded"))):W(e.data,t)})).catch((function(e){return B(e.message,t)}))})),n.resetForm()},validate:function(t){var e={};return t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||(e.email="Invalid email address"):e.email="Email is required",t.password?t.password.length<3&&(e.password="Min length 3 characters"):e.password="Password required",e}});return t?Object(jt.jsx)(vt.a,{to:"/"}):Object(jt.jsx)(tt.a,{className:Wt.a.loginWrapper,container:!0,justifyContent:"center",children:Object(jt.jsxs)(tt.a,{item:!0,justifyContent:"center",children:[Object(jt.jsx)("h1",{children:"Log In"}),Object(jt.jsx)(Nt.a,{children:Object(jt.jsx)("form",{onSubmit:n.handleSubmit,children:Object(jt.jsxs)(Pt.a,{children:[Object(jt.jsx)(dt.a,Object(S.a)({className:Wt.a.inputs,label:"Email",margin:"normal"},n.getFieldProps("email"))),n.touched.email&&n.errors.email&&Object(jt.jsx)("div",{className:Wt.a.error,children:n.errors.email}),Object(jt.jsx)(dt.a,Object(S.a)({className:Wt.a.inputs,type:"password",label:"Password",margin:"normal"},n.getFieldProps("password"))),n.touched.password&&n.errors.password&&Object(jt.jsx)("div",{className:Wt.a.error,children:n.errors.password}),Object(jt.jsx)(wt.a,{label:"Remember me",control:Object(jt.jsx)(ht.a,Object(S.a)({color:"success"},n.getFieldProps("rememberMe")))}),Object(jt.jsx)(b.a,{type:"submit",variant:"contained",color:"primary",children:"Login"})]})})})]})})};var Ut=function(t){var e=t.demo,n=void 0!==e&&e,a=$((function(t){return t.app.status})),i=$((function(t){return t.app.isInitialized})),r=$((function(t){return t.auth.isLoggedIn})),s=Object(h.b)();return Object(c.useEffect)((function(){s((function(t){F().then((function(e){0===e.data.resultCode?t(H(!0)):W(e.data,t),t({type:"APP/IS-INITIALIZED"})})).catch((function(e){return B(e.message,t)}))}))}),[s]),i?Object(jt.jsxs)("div",{className:T.a.mainApp,children:[Object(jt.jsx)(Dt,{}),Object(jt.jsxs)(l.a,{position:"relative",children:[Object(jt.jsxs)(u.a,{children:[Object(jt.jsx)(O.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(jt.jsx)(p.a,{})}),Object(jt.jsx)(j.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"TodoList Application"}),r?Object(jt.jsx)(b.a,{onClick:function(){s((function(t){t(M("loading")),P().then((function(e){0===e.data.resultCode?(t(H(!1)),t({type:"CLEAR-TODOLISTS-DATA"}),t(M("succeeded"))):W(e.data,t)})).catch((function(e){B(e,t)}))}))},color:"inherit",children:"Logout"}):Object(jt.jsx)(b.a,{color:"inherit",children:"Login"})]}),"loading"===a&&Object(jt.jsx)(_t.a,{className:T.a.loadingBar,color:"success"})]}),Object(jt.jsx)(d.a,{className:T.a.todolistsContainer,fixed:!0,children:Object(jt.jsxs)(vt.d,{children:[Object(jt.jsx)(vt.b,{path:"/todolist",element:Object(jt.jsx)(At,{demo:n})}),Object(jt.jsx)(vt.b,{path:"login",element:Object(jt.jsx)(Rt,{})}),Object(jt.jsx)(vt.b,{path:"*",element:Object(jt.jsx)("div",{style:{margin:"10% auto"},children:Object(jt.jsx)("h1",{style:{textAlign:"center",marginTop:"10%",color:"red"},children:"404: Page NOT FOUND"})})})]})})]}):Object(jt.jsx)("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"},children:Object(jt.jsx)(Et.a,{})})},Gt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,231)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,c=e.getLCP,r=e.getTTFB;n(t),a(t),i(t),c(t),r(t)}))},Ht=n(212),Kt=n(56);o.a.render(Object(jt.jsx)(r.a.StrictMode,{children:Object(jt.jsx)(h.a,{store:Q,children:Object(jt.jsx)(Ht.a,{injectFirst:!0,children:Object(jt.jsx)(Kt.a,{children:Object(jt.jsx)(Ut,{})})})})}),document.getElementById("root")),Gt()},41:function(t,e,n){t.exports={wrapper:"Todolist_wrapper__ey2ul",tasksWrapper:"Todolist_tasksWrapper__MFeLa",btnWrapper:"Todolist_btnWrapper__15caS",deleteBtn:"Todolist_deleteBtn__1tukC",title:"Todolist_title__xhMKP",filterBtn:"Todolist_filterBtn__1SY1g"}},53:function(t,e,n){t.exports={loginWrapper:"Login_loginWrapper__3TsW5",inputs:"Login_inputs__3JRm4",error:"Login_error__1EZt6"}},61:function(t,e,n){t.exports={addItemWrapper:"AddItemForm_addItemWrapper__3xczE",error:"AddItemForm_error__r1ap8",input:"AddItemForm_input__3S4CR",errorInput:"AddItemForm_errorInput__3SbG3"}},71:function(t,e,n){t.exports={mainApp:"App_mainApp__2XCzb",todolistsContainer:"App_todolistsContainer__14cMq",loadingBar:"App_loadingBar__hMBye"}},72:function(t,e,n){t.exports={todolistWrapper:"TodolistsList_todolistWrapper__3ynHT",addItemFormWrapper:"TodolistsList_addItemFormWrapper__27EuT",listWrapper:"TodolistsList_listWrapper__3Euym"}},84:function(t,e,n){t.exports={input:"EditableSpan_input__y3r8A",task:"EditableSpan_task__iU_zk"}}},[[161,1,2]]]);
//# sourceMappingURL=main.1c65444f.chunk.js.map